---
import { Image } from 'astro:assets';

interface Props {
  title: string;
  steps: { image: string; title: string; description: string }[];
}

const { title, steps } = Astro.props;
---

<style>
  .how-works {
    background-image: url('/assets/img/how-works-bg.svg');
    background-repeat: no-repeat;
    background-position: left 139px;
  }

  @media screen and (min-width: 1024px) {
    .how-works {
      background-position: left center;
    }
  }
</style>
<div class="how-works w-full">
  <div class="container mx-auto p-4">
    <div
      class="relative flex flex-col items-center justify-center gap-6 lg:flex-row lg:gap-16 lg:text-left lg:justify-between"
    >
      <h2
        class="text-center font-bold text-2xl lg:text-3xl xl:text-5xl xl:ml-20 text-primary lg:flex-1 lg:text-left"
        set:html={title}
      />

      <div class="flex flex-col gap-4 relative lg:flex-1 lg:min-w-[628px]">
        {
          steps.map(({ image, title, description }) => (
            <div class="lg:even:absolute lg:even:my-auto lg:even:left-[322px] lg:even:h-full lg:even:flex lg:even:items-center lg:even:gap-6">
              <div class="step-card flex flex-col items-center px-7 py-10 rounded-[10px] shadow-dm gap-6 lg:w-[306px]">
                <Image
                  src={image}
                  alt={title}
                  width={60}
                  height={60}
                  loading="lazy"
                />
                <div class="flex flex-col items-center gap-3">
                  <h3 class="text-xl font-bold text-center">{title}</h3>
                  <div class="text-center" set:html={description} />
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</div>
